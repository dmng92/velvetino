<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>velvetino home©</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-color: #ffffff;
            --text-primary: #000000;
            --text-secondary: #666666;
            --border-color: #000000;
            --item-bg: #f9f9f9;
        }

        [data-theme="dark"] {
            --bg-color: #0c0c0c;
            --text-primary: #ffffff;
            --text-secondary: #999999;
            --border-color: #333333;
            --item-bg: #1a1a1a;
        }

        body {
            margin: 0;
            padding: 0;
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-primary);
            transition: background-color 0.4s ease, color 0.4s ease;
        }

        /* --- BARRA MÓVIL (MARQUEE INFINITO) --- */
        .marquee-container {
            width: 100%;
            background-color: transparent;
            color: var(--text-primary);
            overflow: hidden;
            white-space: nowrap;
            display: flex; 
            align-items: center;
            padding: 2.8px 0;
            border-bottom: 1px solid var(--border-color);
            position: relative;
            z-index: 1000;
        }

        .marquee-content {
            display: inline-flex;
            animation: marquee-infinite 30s linear infinite;
            will-change: transform;
        }

        .marquee-content span {
            font-size: 0.65rem;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.15em;
            padding-right: 60px;
        }

        @keyframes marquee-infinite {
            from { transform: translateX(0); }
            to { transform: translateX(-50%); }
        }

        /* --- ESTRUCTURA GENERAL --- */
        .main-wrapper {
            padding: 40px 5%;
        }

        header { margin-bottom: 50px; }
        h1 { font-size: 2.2rem; font-weight: 600; margin: 0; letter-spacing: -0.02em; cursor: pointer; }
        .tagline { font-size: 1rem; color: var(--text-secondary); margin-top: 8px; }

        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-top: 1px solid var(--border-color);
            border-bottom: 1px solid var(--border-color);
            padding: 12px 0;
            margin-top: 30px;
        }

        .theme-switch { display: flex; align-items: center; gap: 10px; cursor: pointer; font-size: 0.85rem; user-select: none; }
        .switch-track { width: 40px; height: 20px; background-color: var(--text-primary); border-radius: 20px; position: relative; transition: 0.3s; }
        .switch-circle { width: 14px; height: 14px; background-color: var(--bg-color); border-radius: 50%; position: absolute; top: 3px; left: 3px; transition: 0.3s; }
        [data-theme="dark"] .switch-circle { left: 23px; }

        .nav-links a { color: var(--text-primary); text-decoration: none; margin-left: 20px; font-weight: 500; }

      /* --- CARRUSEL ACTUALIZADO --- */
        .hero-carousel {
            width: 100%;
            overflow-x: hidden; /* Evita que se vea el scroll */
            margin: 40px 0;
            position: relative;
            /* Eliminamos el cursor grab ya que ahora es por posición */
        }
        
        .hero-carousel::-webkit-scrollbar { display: none; } /* Oculta barra en Chrome/Safari */

        .carousel-track {
            display: flex;
            gap: 20px;
            width: max-content;
            transition: transform 0.1s linear; /* Suaviza el movimiento por JS */
            will-change: transform;
        }

        .carousel-track:hover {
            animation-play-state: paused; /* Se detiene al pasar el mouse */
        }

        .carousel-item {
            width: 280px;
            aspect-ratio: 4/5;
            flex-shrink: 0;
            background-color: var(--item-bg);
            cursor: pointer;
            overflow: hidden;
        }

        .carousel-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }

        .carousel-item:hover img {
            transform: scale(1.05);
        }

        @keyframes scroll-carousel {
            from { transform: translateX(calc(-50% - 10px)); }
            to { transform: translateX(0); }
        }

        /* --- GALERÍA Y DETALLES --- */
        #product-detail { 
            display: none; 
            margin-bottom: 80px;
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 60px;
        }
        #product-detail.active { display: block; }

        #gallery { 
            display: grid !important; 
            grid-template-columns: repeat(4, 1fr) !important; 
            gap: 40px 20px; 
            margin-top: 50px;
        }

        .item { opacity: 0; transform: translateY(20px); transition: 0.8s; cursor: pointer; }
        .item.visible { opacity: 1; transform: translateY(0); }
        .img-container { width: 100%; aspect-ratio: 1 / 1; background-color: var(--item-bg); overflow: hidden; }
        .item img { width: 100%; height: 100%; object-fit: cover; display: block; transition: transform 0.4s ease; }
        .item:hover img { transform: scale(1.05); }
        .item-info { margin-top: 12px; }
        .item-title { font-weight: 600; font-size: 0.9rem; }

        .back-link { cursor: pointer; text-decoration: underline; font-size: 0.9rem; display: block; margin-bottom: 30px; }
        .detail-info h2 { font-size: 2.2rem; margin: 0 0 15px 0; font-weight: 600; }
        .detail-info p { color: var(--text-secondary); max-width: 800px; line-height: 1.6; margin-bottom: 40px; }
        .detail-grid { display: grid; grid-template-columns: 1fr; gap: 30px; }
        .detail-grid img { width: 100%; height: auto; }

        /* --- PIÉ DE PÁGINA (FOOTER) --- */
        footer {
            margin-top: 50px;
            padding: 60px 5%;
            border-top: 1px solid var(--border-color);
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            align-items: start;
            gap: 40px;
        }

        .footer-brand h3, .footer-faq h4, .footer-contact h4 {
            font-size: 1.2rem;
            margin: 0 0 20px 0;
            line-height: 1.2;
        }

        .footer-brand p {
            font-size: 0.9rem;
            color: var(--text-secondary);
            line-height: 1.6;
            max-width: 280px;
        }

        .faq-item { margin-bottom: 20px; }
        .faq-item p { font-size: 0.85rem; line-height: 1.5; margin: 0; }
        .footer-links-list { display: flex; flex-direction: column; gap: 12px; }
        .footer-links-list a { color: var(--text-secondary); text-decoration: none; font-size: 0.9rem; }

        .copyright {
            grid-column: 1 / -1;
            padding-top: 40px;
            font-size: 0.75rem;
            color: var(--text-secondary);
            text-align: center;
        }

/* En celular mantenemos el comportamiento nativo de scroll */
        @media (max-width: 1024px) {
            .hero-carousel {
                overflow-x: auto;
                scroll-behavior: smooth;
            }
            .hero-carousel::-webkit-scrollbar { display: none; }
        }
        
        @media (max-width: 1024px) {
            #gallery { grid-template-columns: repeat(2, 1fr) !important; }
            footer { grid-template-columns: 1fr 1fr; }
        }

        @media (max-width: 600px) {
            #gallery { grid-template-columns: 1fr !important; }
            footer { grid-template-columns: 1fr; text-align: center; }
            .footer-brand p { margin: 0 auto; }
        }
    </style>
</head>
<body>

<div class="marquee-container">
    <div class="marquee-content">
        <span>ENVIOS A TODO EL PAÍS — HECHOS A MANO — CORDOBA CAPITAL — CONSULTAS POR WHATSAPP</span>
        <span>ENVIOS A TODO EL PAÍS — HECHOS A MANO — CORDOBA CAPITAL — CONSULTAS POR WHATSAPP</span>
        <span>ENVIOS A TODO EL PAÍS — HECHOS A MANO — CORDOBA CAPITAL — CONSULTAS POR WHATSAPP</span>
        <span>ENVIOS A TODO EL PAÍS — HECHOS A MANO — CORDOBA CAPITAL — CONSULTAS POR WHATSAPP</span>
    </div>
</div>

<div class="main-wrapper">
    <header>
        <h1 onclick="irAHome()">velvetino home©</h1>
        <div class="tagline">almohadones y estilo para tu hogar.</div>
        <nav>
            <div class="theme-switch" id="theme-toggle">
                <span>☼</span>
                <div class="switch-track"><div class="switch-circle"></div></div>
                <span>☾</span>
            </div>
            <div class="nav-links">
                <a href="https://api.whatsapp.com/send/?phone=5493804595851&text&type=phone_number&app_absent=0" target="_blank">☎ contacto</a>
            </div>
        </nav>
    </header>

    <div id="hero-carousel" class="hero-carousel">
        <div id="carousel-track" class="carousel-track"></div>
    </div>

    <main id="product-detail">
        <span class="back-link" onclick="irAHome()">← volver al catálogo</span>
        <div id="detail-content"></div>
    </main>

    <main id="gallery"></main>
</div>

<footer>
    <div class="footer-brand">
        <h3><strong>velvetino home©</strong></h3>
        <p>Almohadones a medida y confort para cada rincón de tu casa.</p><p>Hechos a mano en Córdoba, Argentina.</p>
    </div>

    <div class="footer-faq">
        <h4>Preguntas frecuentes</h4>
        <div class="faq-item">
            <p><strong>¿Cómo realizo un pedido?</strong><br>Podés contactarnos vía WhatsApp por el modelo que te interese.</p>
            <p><strong>¿Puedo pedir una medida especial?</strong></p><p>¡Claro! Trabajamos a pedido. Envianos las medidas que necesitás para un presupuesto personalizado.</p>
            <p><strong>¿Hacen envíos?</strong></p><p>Sí, realizamos envíos a todo el país. Los costos se calculan según la localidad de destino.</p>
        </div>
    </div>

    <div class="footer-contact">
        <h4>Contacto</h4>
        <div class="footer-links-list">
            <a href="https://api.whatsapp.com/send/?phone=5493804595851&text&type=phone_number&app_absent=0">WhatsApp</a>
            <a href="mailto:velvetinohome@gmail.com">Email</a>
        </div>
    </div>
</footer>

<script>
    const productos = [
        {
            id: "almohadon-de-piso",
            nombre: "Almohadones de piso",
            descripcion: "Almohadón/sillón de piso. ideal para sentarse-acostarse a leer. Confeccionado con tela pana color oliva. Medidas 1.40x 65cm. También realizo pedidos del tamaño y color que te guste.",
            carpeta: "Almohadones-de-piso",
            fotos: ["foto (3).jpg", "foto (2).jpg", "foto (1).jpg", "foto (4).jpg", "foto (5).jpg", "muestrario-pana-jaguar.jpg"] 
        },
        {
            id: "set-jardin-camastro",
            nombre: "Almohadón Terciopelo",
            descripcion: "Set de almohadones para exterior/jardin o camastro. Confeccionado en tela Panamá (apto exterior). Trabajamos a medida. Envíame las tuyas para pasarte un presupuesto. Córdoba Capital.",
            carpeta: "set-almohadones-jardín-camastro-estilo-futon",
            fotos: ["foto (1).jpg", "foto (2).jpg", "foto (3).jpg", "foto (4).jpg", "foto (5).jpg", "foto (6).jpg", "foto (7).jpg"] 
        },
        {
            id: "almohadon-sillon",
            nombre: "Almohadón-sillón",
            descripcion: "Almohadon, sillon para poner en camastro, piso, jardín, el uso que vos prefieras. confeccionado con tela antidesgarro color gris petróleo. medidas 1.20x70 cm. también realizo pedidos en la medida y color que te guste :) consúltame!",
            carpeta: "almohadon-sillon",
            fotos: ["foto (1).jpg", "foto (2).jpg", "foto (3).jpg", "muestrario-pana-jaguar.jpg"] 
        },
        {
            id: "sillon-de-piso-oliva",
            nombre: "Almohadón-sillón de piso",
            descripcion: "Almohadon para living/jardin, confeccionado en pana premium color verde oliva. Medidas 1.40x70cm. Realizo pedidos en telas para exterior o interior del tamaño y color que prefieras. Córdoba Capital.",
            carpeta: "almohadon- sillon de piso",
            fotos: ["foto (1).jpg", "foto (2).jpg", "foto (3).jpg", "foto (4).jpg", "foto (5).jpg", "foto (6).jpg"] 
        },
        {
            id: "almohadones-para-sillas-acapulco-o-asientos",
            nombre: "Almohadones para sillas acapulco o asientos",
            descripcion: "Almohadones para sillas medidas 85x60 ideales para silla Acapulco o cualquier silla. Realizamos por pedido! Consultar por colores. CORDOBA CAPITAL",
            carpeta: "Almohadones-para-sillas-acapulco-o-asientos",
            fotos: ["foto (1).jpg", "foto (2).jpg", "foto (3).jpg", "foto (4).jpg"] 
        },
        {
            id: "almohadon-estilo-futon-individual-o-set",
            nombre: "Almohadón estilo futón individual o set",
            descripcion: "Almohadones estilo futón para piso/camastro, set de jardín etc. confeccionados en tela pana antimanchas de la medida y color que desees. Trabajamos por pedido :) ENVIAR MEDIDAS EN CM PARA PODER PASAR UN PRESUPUESTO!! consúltame! (CÓRDOBA CAPITAL)",
            carpeta: "almohadon-estilo-futon-individual-o-set",
            fotos: ["foto (1).jpg", "foto (2).jpg", "foto (3).jpg", "foto (4).jpg", "muestrario-pana-jaguar.jpg", "muestrario-pana-jaguar-2.jpg"] 
        },
        {
            id: "set-almohadones-camastro-estilo-futon",
            nombre: "Set almohadones camastro estilo futón",
            descripcion: "Set de almohadones para exterior/jardin o camastro. confeccionado en tela Panamá(apto exterior) Trabajamos a medida. Envíame las tuyas para pasarte un presupuesto :) CÓRDOBA",
            carpeta: "set-almohadones-camastro-estilo-futon",
            fotos: ["foto (1).jpg", "foto (2).jpg", "foto (3).jpg", "foto (4).jpg", "foto (5).jpg", "foto (6).jpg", "foto (7).jpg"] 
        },
        {
            id: "set-almohadones-sillones-futon",
            nombre: "SET ALMOHADONES SILLONES FUTON",
            descripcion: "Set almohadones estilo futón. confeccionado en tela pana antimanchas. ENVIAME LA MEDIDA DESEADA PARA BRINDARTE UN PRESUPUESTO!! TRABAJAMOS POR PEDIDO!! Apto para armar un living, camastro, lo que vos prefieras! realizo a medida de colores y tamaños distintos. consultame :)",
            carpeta: "set-almohadones-sillones-futon",
            fotos: ["foto (1).jpg", "foto (2).jpg", "foto (3).jpg", "foto (4).jpg", "muestrario-pana-jaguar.jpg"] 
        }
    ];

    const rutaBase = 'fotos/';
    const galleryView = document.getElementById('gallery');
    const detailView = document.getElementById('product-detail');
    const detailContent = document.getElementById('detail-content');
    const carouselTrack = document.getElementById('carousel-track');
    const heroCarousel = document.getElementById('hero-carousel');

let currentScroll = 0;
    let scrollInterval;

    function inicializarCarrusel() {
        if (carouselTrack.innerHTML !== '') return;
        
        // 1. Filtrar fotos y elegir 9 aleatorias (una por producto o hasta completar 9)
        let fotosParaCarrusel = [];
        productos.forEach(prod => {
            const fotosValidas = prod.fotos.filter(f => !f.toLowerCase().includes('muestrario'));
            if (fotosValidas.length > 0) {
                const randomFoto = fotosValidas[Math.floor(Math.random() * fotosValidas.length)];
                fotosParaCarrusel.push({ id: prod.id, foto: `${rutaBase}${prod.carpeta}/${randomFoto}`, nombre: prod.nombre });
            }
        });

        // Limitamos a 9 fotos exactas y sin duplicar para evitar el vacío infinito
        const seleccionFinal = fotosParaCarrusel.slice(0, 9);

        carouselTrack.innerHTML = seleccionFinal.map(item => `
            <div class="carousel-item" onclick="irAProducto('${item.id}')">
                <img src="${item.foto}" alt="${item.nombre}">
            </div>
        `).join('');

        // 2. Lógica para PC: Movimiento por posición de cursor (25% laterales)
        if (window.innerWidth > 1024) {
            heroCarousel.addEventListener('mousemove', (e) => {
                const rect = heroCarousel.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const width = rect.width;
                const speed = 5; // Ajusta la velocidad aquí

                clearInterval(scrollInterval);

                if (x < width * 0.25) {
                    // Zona Izquierda: Mover hacia atrás
                    scrollInterval = setInterval(() => {
                        heroCarousel.scrollLeft -= speed;
                    }, 16);
                } else if (x > width * 0.75) {
                    // Zona Derecha: Mover hacia adelante
                    scrollInterval = setInterval(() => {
                        heroCarousel.scrollLeft += speed;
                    }, 16);
                }
            });

            heroCarousel.addEventListener('mouseleave', () => {
                clearInterval(scrollInterval);
            });
        }
    }

    function render() {
        const params = new URLSearchParams(window.location.search);
        const productId = params.get('p');
        
        if (productId) {
            heroCarousel.style.display = 'none';
            galleryView.style.display = 'none';
            mostrarDetalle(productId);
        } else {
            heroCarousel.style.display = 'block';
            galleryView.style.display = 'grid';
            detailView.classList.remove('active');
            inicializarCarrusel();
            mostrarGaleria();
        }
    }

    function irAHome() {
        window.history.pushState({}, '', window.location.pathname);
        render();
        window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function irAProducto(id) {
        window.history.pushState({}, '', `?p=${id}`);
        render();
        window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function mostrarGaleria() {
        if (galleryView.innerHTML !== '') return;
        productos.forEach((prod, index) => {
            const item = document.createElement('div');
            item.className = 'item';
            const fotoPortada = `${rutaBase}${prod.carpeta}/${prod.fotos[0]}`;
            item.innerHTML = `
                <div class="img-container">
                    <img src="${fotoPortada}" alt="${prod.nombre}" loading="lazy">
                </div>
                <div class="item-info">
                    <div class="item-title">${prod.nombre}</div>
                </div>
            `;
            item.onclick = () => irAProducto(prod.id);
            galleryView.appendChild(item);
            setTimeout(() => item.classList.add('visible'), 100 * index);
        });
    }

    function mostrarDetalle(id) {
        const prod = productos.find(p => p.id === id);
        if (!prod) return irAHome();
        
        const urlProducto = window.location.href;
        const mensajeWA = encodeURIComponent(`Hola Velvetino! Me interesa este producto: ${prod.nombre}. Te adjunto el link: ${urlProducto}`);
        const linkWA = `https://api.whatsapp.com/send/?phone=5493804595851&text=${mensajeWA}`;

        detailView.classList.add('active');
        detailContent.innerHTML = `
            <div class="detail-info">
                <h2>${prod.nombre}</h2>
                <p>${prod.descripcion}</p>
                <a href="${linkWA}" target="_blank" style="
                    display: inline-block;
                    padding: 12px 24px;
                    background-color: var(--text-primary);
                    color: var(--bg-color);
                    text-decoration: none;
                    font-size: 0.9rem;
                    font-weight: 600;
                    margin-top: 20px;
                    margin-bottom: 40px;
                    border: 1px solid var(--text-primary);
                    transition: 0.3s;
                ">
                    Consultar por WhatsApp
                </a>
            </div>
            <div class="detail-grid">
                ${prod.fotos.map(f => `<img src="${rutaBase}${prod.carpeta}/${f}" alt="Detalle">`).join('')}
            </div>
        `;
    }

    const btnToggle = document.getElementById('theme-toggle');
    btnToggle.addEventListener('click', () => {
        let theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'light' : 'dark';
        document.documentElement.setAttribute('data-theme', theme);
        localStorage.setItem('theme', theme);
    });
    if (localStorage.getItem('theme')) document.documentElement.setAttribute('data-theme', localStorage.getItem('theme'));

    window.onpopstate = render;
// --- LÓGICA DE ARRASTRE PARA EL CARRUSEL ---
let isDown = false;
let startX;
let scrollLeft;

const slider = document.getElementById('hero-carousel');
const track = document.getElementById('carousel-track');

// Eventos de Mouse
slider.addEventListener('mousedown', (e) => {
    isDown = true;
    slider.style.cursor = 'grabbing';
    track.style.animationPlayState = 'paused'; // Pausa la auto-animación al tocar
    startX = e.pageX - slider.offsetLeft;
    scrollLeft = slider.scrollLeft;
});

slider.addEventListener('mouseleave', () => {
    isDown = false;
    slider.style.cursor = 'grab';
    track.style.animationPlayState = 'running'; // Reanuda si sale el mouse
});

slider.addEventListener('mouseup', () => {
    isDown = false;
    slider.style.cursor = 'grab';
    track.style.animationPlayState = 'running'; // Reanuda al soltar
});

slider.addEventListener('mousemove', (e) => {
    if (!isDown) return;
    e.preventDefault();
    const x = e.pageX - slider.offsetLeft;
    const walk = (x - startX) * 2; // Velocidad de arrastre
    slider.scrollLeft = scrollLeft - walk;
});

// Eventos Táctiles (Celulares)
slider.addEventListener('touchstart', () => {
    track.style.animationPlayState = 'paused';
});

slider.addEventListener('touchend', () => {
    track.style.animationPlayState = 'running';
});
    
    window.onload = render;
</script>
</body>
</html>
