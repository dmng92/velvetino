<main id="gallery"></main>

<div id="product-view" style="display:none;">
    <button onclick="cerrarProducto()" class="close-btn">← volver</button>
    <div id="product-content"></div>
</div>

<style>
    /* Estilos para la vista de producto */
    #product-view {
        position: fixed;
        top: 0; left: 0; width: 100%; height: 100%;
        background: var(--bg-color);
        z-index: 1000;
        overflow-y: auto;
        padding: 40px 5%;
    }
    .close-btn {
        background: none; border: none; 
        color: var(--text-primary); 
        cursor: pointer; font-family: 'Inter'; font-size: 1rem;
        margin-bottom: 30px;
    }
    .product-grid {
        display: grid;
        grid-template-columns: 1fr; /* Fotos grandes una debajo de otra */
        gap: 20px;
    }
    .product-grid img { width: 100%; height: auto; }
</style>

<script>
    // 1. CONFIGURACIÓN DE PRODUCTOS
    // Aquí defines la carpeta y qué fotos tiene dentro cada producto
    const proyectos = [
        {
            titulo: "Set almohadones jardín camastro estilo futón",
            carpeta: "set-almohadones-jardín-camastro-estilo-futon",
            descripcion: "Set de almohadones para exterior/jardin o camastro. confeccionado en tela Panamá(apto exterior) Trabajamos a medida. Envíame las tuyas para pasarte un presupuesto :) CÓRDOBA",
            fotos: ["foto (1).jpg", "foto (2).jpg", "foto (3).jpg", "foto (4)", "foto (5)", "foto (6)", "foto (7)"] 
        },
        {
            titulo: "Silla Madera",
            carpeta: "silla-madera",
            descripcion: "Diseño minimalista en roble",
            fotos: ["principal.jpg", "detalle.jpg"]
        }
    ];

    const rutaBase = 'imagenesAlta/';
    const contenedorGaleria = document.getElementById('gallery');
    const vistaProducto = document.getElementById('product-view');
    const contenidoProducto = document.getElementById('product-content');

    function cargarGaleriaPrincipal() {
        proyectos.forEach((proy, index) => {
            const item = document.createElement('div');
            item.className = 'item';
            item.style.cursor = "pointer";
            
            // Usamos la primera foto del array como portada
            const fotoPortada = `${rutaBase}${proy.carpeta}/${proy.fotos[0]}`;

            item.innerHTML = `
                <div class="img-container">
                    <img src="${fotoPortada}" alt="${proy.titulo}" loading="lazy">
                </div>
                <div class="item-info">
                    <div class="item-title">${proy.titulo}</div>
                    <div class="item-desc">${proy.descripcion}</div>
                </div>
            `;
            
            item.onclick = () => abrirProducto(proy);
            contenedorGaleria.appendChild(item);
            setTimeout(() => item.classList.add('visible'), 100 * index);
        });
    }

    function abrirProducto(proy) {
        // Bloquear scroll del body
        document.body.style.overflow = 'hidden';
        vistaProducto.style.display = 'block';
        
        contenidoProducto.innerHTML = `
            <h2 style="margin-bottom:10px;">${proy.titulo}</h2>
            <p style="color:var(--text-secondary); margin-bottom:40px;">${proy.descripcion}</p>
            <div class="product-grid">
                ${proy.fotos.map(f => `<img src="${rutaBase}${proy.carpeta}/${f}">`).join('')}
            </div>
        `;
    }

    function cerrarProducto() {
        document.body.style.overflow = 'auto';
        vistaProducto.style.display = 'none';
    }

    window.onload = cargarGaleriaPrincipal;
</script>
